#!/usr/bin/env bash
#
# $1 - the path to the movie we're converting.
# $2 - the start time of the finished product.
# This can be in seconds, or it also accepts the "hh:mm:ss[.xxx]" format.
# $3 - the duration of the video sequence.
# This can be in seconds, or it also accepts the "hh:mm:ss[.xxx]" format.
#
# Examples:
#
# movieme <path> <start-time> <duration>
# ~/Desktop/dr-strangelove.mp4 23:12 3
# ~/Desktop/holman-backflip-on-fire.mov 3.9 1.75

set -u
set -e

tmpdir=mktemp -d
ffmpeg -i $1 -f image2 -ss $2 -t $3 -r 7 $tmpdir/d-%05d.png
gifme $tmpdir/* -d 0
rm -rf $tmpdir
